(function(){"use strict";angular.module("angular-geo-providers.google",[]).provider("angularGeoGoogle",function(){var a,b;if("undefined"==typeof google||"undefined"!=typeof google&&"undefined"==typeof google.maps)throw new Error("Google Maps API V3 is required for angulargeo-google to function, please include it");var c=new google.maps.Geocoder,d={geocode:function(b){var d=a.defer();return c.geocode({address:b},function(a,b){if(b===google.maps.GeocoderStatus.OK){var c={};c.length=a.length,c.results=[],c.source="googleV3",c.nativeResponse=a,angular.forEach(a,function(a){var b={address:{},geometry:{coords:{latitude:a.geometry.location.lat(),longitude:a.geometry.location.lng()},viewPort:{southWest:{latitude:a.geometry.viewport.getSouthWest().lat(),longitude:a.geometry.viewport.getSouthWest().lng()},northEast:{latitude:a.geometry.viewport.getNorthEast().lat(),longitude:a.geometry.viewport.getNorthEast().lng()}}}};angular.forEach(a.address_components,function(a){switch(a.types[0]){case"street_number":b.address.street_number=a.long_name;break;case"route":b.address.street=a.long_name;break;case"locality":b.address.locality=a.long_name;break;case"administrative_area_level_2":b.address.adminDistrict2=a.long_name;break;case"administrative_area_level_1":b.address.adminDistrict1=a.long_name;break;case"country":b.address.country=a.long_name;break;case"postal_code":b.address.postalCode=a.long_name}}),b.address.full=a.formatted_address,c.results.push(b)}),d.resolve(c)}else b===google.maps.GeocoderStatus.ZERO_RESULTS?d.resolve(null):b===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?d.reject("OVER_LIMIT"):(b===google.maps.GeocoderStatus.REQUEST_DENIED||b===google.maps.GeocoderStatus.INVALID_REQUEST)&&d.reject("FAILED")}),d.promise},reverseGeocode:function(b){var d=a.defer();return c.geocode({latLng:new google.maps.LatLng(b.latitude,b.longitude)},function(a,b){b===google.maps.GeocoderStatus.OK?d.resolve(a):b===google.maps.GeocoderStatus.ZERO_RESULTS?d.resolve(null):b===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?d.reject("OVER_LIMIT"):(b===google.maps.GeocoderStatus.REQUEST_DENIED||b===google.maps.GeocoderStatus.INVALID_REQUEST)&&d.reject("FAILED")}),d.promise}};return{name:"angularGeoGoogle",config:function(){},$get:function(c,e){return a=e,b=c,d}}})}).call(this);